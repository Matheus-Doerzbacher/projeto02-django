{% load bootstrap4 static %}
<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <title>Index</title>
    {% bootstrap_css %}
    <link href="{% static 'css/styles.css' %}" rel="stylesheet" />
  </head>
  <body>
    <div class="container">
      <h1>Produtos</h1>

      <table class="table table-dark">
        <thead>
          <tr>
            <th class="scope">#</th>
            <th class="scope">Produto</th>
            <th class="scope">Pre√ßo</th>
            <th class="scope">Estoque</th>
          </tr>
        </thead>
        <tbody>
          {% for produto in produtos %}
          <tr>
            <th scope="row">{{ produto.id }}</th>
            <th scope="row">
              <a href="#modal{{ produto.id }}" data-toggle="modal">
                {{ produto.nome }}</a
              >
            </th>
            <th scope="row">R$ {{ produto.preco }}</th>
            <th scope="row">{{ produto.estoque }}</th>
          </tr>
          <!-- INICIO - MODAL -->
          <div
            class="modal fade bd-example-modal-lg show"
            id="modal{{ produto.id }}"
            role="dialog"
          >
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body" id="dynamic-content">
                  <img
                    src="{{ produto.imagem.url }}"
                    alt="{{ produto.nome }}"
                    class="img-fluid"
                  />
                </div>
              </div>
            </div>
          </div>
          <!-- FIM - MODAL -->
          {% endfor %}
        </tbody>
      </table>
    </div>
    {% bootstrap_javascript jquery='full' %}
  </body>
</html>
